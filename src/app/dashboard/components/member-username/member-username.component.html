<div
  *ngIf="user"
  (click)="openPopover()"
  (contextmenu)="openCtxMenu($event)"
  class="member-username"
  data-placement="left"
  [title]="user.username"
  [attr.data-toggle]="member ? 'popover' : ''"
  [attr.data-content]="popoverHTML"
  [class]="guild ? 'user-' + user._id + ' ' + user.status?.toLowerCase() : ''">
    <app-avatar-url
      *ngIf="withAvatar"
      [user]="user"></app-avatar-url>
  <span
    class="status round"
    [class]="user.status?.toLowerCase()"></span>
  <div
    [style.color]="member ? roleColor : 'inherit'"
    class="username ml-4 pt-0">
    <span class="username-text pl-2">{{ user.username }}</span>
    <span
      *ngIf="user.bot"
      textContent="user.username === 'DClone' ? 'SYSTEM' : 'BOT'"
      class="ml-1 badge badge-secondary"></span>
    <span
      *ngIf="user._id === guild?.ownerId"
      matTooltip="Guild Owner"
      class="crown pl-1"><i class="fas fa-crown"></i></span>
  </div>
  <span
    *ngIf="voice"
    class="float-right text-muted p-1">
    <i
      *ngIf="user.voice.selfMuted"
      matTooltip="Muted"
      class="fas fa-microphone-slash"></i>
  </span>
</div>